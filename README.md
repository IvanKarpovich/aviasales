## ✈️ Построение аналитики для авиакомпании
<img width="1560" height="499" alt="image" src="https://github.com/user-attachments/assets/d8763f1f-6a77-4f43-8ee8-b6de2d9de1d1" />

Этот репозиторий посвящен работе с сырыми данными, построению дашборда, а также примеру действий, которые можно логировать.

## ЧАСТЬ 1: 
Хотим провести анализ данных о бронированиях авиабилетов по направлению Москва (SVO, VKO, DME) → Санкт-Петербург (LED), начиная с подготовки "сырых" данных (ETL) и заканчивая формированием дашборда (BI).

### (1) ETL (Преобразование данных)
Рассмотрим датасет с данными о бронировании авиабилетов.

Каждая строка датасета соответствует отдельному бронированию и описывается рядом признаков:

- `booking_id` - ID бронирования
- `booking_month` - месяц покупки билета
- `passengers` - количество пассажиров в бронировании
- `price` - стоимость покупки билета. Причём если пассажиров несколько, то это поле учитывает полную стоимость, а не на 1 пассажира
- `flights_info` - список из всех рейсов в этом билете. Считаем, что это все рейсы без обратного билета, но по пути могут быть пересадки. Элемент списка - конкретный перелёт.
<img width="1108" height="271" alt="image" src="https://github.com/user-attachments/assets/6809f6a5-3490-4615-b2eb-ad04bff53f84" />

Хотелось бы привести данные в такой вид, чтобы на каждый рейс внутри билета была своя отдельная строка. То есть в примере выше этот один билет должен породить 2 строки с рейсом `SVO->MCT` и `MCT->HKT`

в новой табличке будут следующие столбцы
- `booking_id` - ID бронирования
- `booking_month` - месяц покупки билета
- `itinerary` - маршрут, должен иметь вид `{start airport}-{change airport 1}-...-{change airport N}-{finish airport}`. Для примера выше это будет строка `SVO-MCT-HKT`
- `flights_count` - количество рейсов в маршруте (1, если рейс прямой, и больше 1, если есть хотя бы одна пересадка)
- `flight_id` - ID рейса (можно сгенерировать как хэш функция `md5` от `booking_id` + дополнительный символ (например, можно использовать `flight_index`, описанный ниже))
- `flight_index` - номер рейса в маршруте, начиная с 0. То есть для примера выше рейс `SVO->MCT` имеет индекс `0`, а `MCT->HKT` имеет индекс 1
- `origin` - код аэропорта вылета рейса
- `destination` - код аэропорта прилёта рейса
- `airline` - код авиакомпании, выполняющий рейс
- `baggage` - информаиция о том, является ли тариф билета с багажом или без багажа
- `passengers` - количество пассажиров в билете
- `price` - цена билета (полная)

В некоторых данных о бронировании присутствовали пропуски, они были заменены на текстовое значение `None`

<img width="1530" height="242" alt="image" src="https://github.com/user-attachments/assets/2bd753f2-efc0-450c-aa8d-18af8a2769b7" />


### (2) BI (Анализ и Визуализация)
Проведен детальный анализ пассажиропотока на ключевом направлении, включая:

-	Анализ распределения трафика между аэропортами SVO, VKO, DME.
-	Исследование сезонной динамики пассажиропотока по месяцам.
-	Оценка конкуренции авиакомпаний (доли рынка) в разрезе каждого московского аэропорта.
-	Сравнительный анализ ценовой политики авиакомпаний (самый дешевый способ улететь).
-	Расчет выручки и среднего заработка на пассажира для каждой авиакомпании.

Версии библиотек: использовались актуальные версии Python 3.10+, Pandas 2.0+, NumPy и Matplotlib.

### Выводы
Ссылка на дашборд в DataLens: https://datalens.yandex/hyptqz9bpqb42


## ЧАСТЬ 2:
### Логирование действий пользователей 
Перед нами скрин одного из шагов воронки бронирования билетов на Авиасейлс. Ряд партнеров продает через авиаксейлс не только сами билеты, но и сопутствующие услуги, поэтому необходим удобный интерфейс.

Воронка состоит из следующих шагов:
* заполнение данных пассажиров,
* выбор дополнительных услуг (возврат, обмен, страховка, уведомление),
* выбор места,
* оплата заказа.

✈️При заходе на страницу выбора доп.услуг появляется возможность выбрать одну или несколько услуг. Чтобы оценить эффективность этой фичи будем смотерть за **выручкой** от оформеления доп.услуг, **конверсию** в клик по слайдеру, **retention** в шаг с этапа оплаты, **среднее время** на страничке, **среднее число услуг**, **bounce rate** - доля отвалившихся пользователей. Стоит посмотреть долю пользователей оформившихз услуги после покупки билета - через техподдержку или на странице билета - так мы поймем эффективность страницы в моменте оформления билета.

✈️Важность метрик можно проверить на исторических данных или например ухудшающим аб-тестом. На первый взгляд самыми важными будут - **выручка со страницы**, которую мы максимизируем, при этом контролируя **bounce rate**.

✈️Нам понадобятся **логи нажатий на кнопки** (можно добавить фейковые), данные с какой страницы пришел пользователь, время проведенное на странице.

✈️Можно также анализировать портрет пользователей, выбирающих доп.услуги, например, посмотреть их **средний чек**, **частоту заказов**, **конверсию**, **пол/возвраст/географию/os**. Соответственно потенциально можно добавить персонализацию на эту страничку - предлагая разным пользователям разнцую цену на услуги, а также возможно скипнуть ее тем, кого она явно отталкивает от дальнейшей покупки авиабилетов. 



<img width="887" height="777" alt="image" src="https://github.com/user-attachments/assets/72a94999-d3e3-4f94-8625-e945ad26636e" />

### Пользовательский путь оформления билетов через сайт aviasales.ru

<img width="1708" height="687" alt="image" src="https://github.com/user-attachments/assets/d237c259-d64c-4dba-aa2f-03772427bbd7" />

<img width="1739" height="540" alt="image" src="https://github.com/user-attachments/assets/311d108e-ab32-403a-aef1-2fa53a04e498" />


